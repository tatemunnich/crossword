(this.webpackJsonpcrossword=this.webpackJsonpcrossword||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(7),o=a.n(s),l=(a(13),a(5)),c=a(1),u=a(2),i=a(4),m=a(3),p=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"entry"},n.a.createElement("label",{className:"label"},this.props.label),n.a.createElement("button",{tabIndex:0===this.props.index?"auto":-1,className:"."===this.props.value?"black-square":"square",id:this.props.index,onKeyDown:this.props.onKeyDown,ref:this.props.innerRef},this.props.value))}}]),a}(n.a.Component),h=n.a.forwardRef((function(e,t){return n.a.createElement(p,Object.assign({innerRef:t},e))})),d=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var r;Object(c.a)(this,a),r=t.call(this,e);for(var s=[],o=0;o<Math.pow(w,2);o++)s.push(n.a.createRef());return r.state={squareRefs:s},r}return Object(u.a)(a,[{key:"renderSquare",value:function(e){return n.a.createElement(h,{key:e,onKeyDown:this.props.onKeyDown,value:this.props.squares[Math.floor(e/w)][e%w],label:this.props.labels[Math.floor(e/w)][e%w],index:e,ref:this.state.squareRefs[e]})}},{key:"render",value:function(){for(var e=[],t=0;t<w;t++){for(var a=[],r=0;r<w;r++)a.push(this.renderSquare(w*t+r));e.push(n.a.createElement("div",{className:"board-row",key:t},a))}return e}}]),a}(n.a.Component),f=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"menubar"},n.a.createElement("div",{className:"menubar-left"},n.a.createElement("button",{className:"menu-button",value:"A",onClick:this.props.onClick},"New"),n.a.createElement("button",{className:"menu-button",value:"B",onClick:this.props.onClick},"Help"),n.a.createElement("button",{className:"menu-button",value:"C",onClick:this.props.onClick},"Words"),n.a.createElement("button",{className:"menu-button",value:"D",onClick:this.props.onClick},"Clues"),n.a.createElement("button",{className:"menu-button",value:"E",onClick:this.props.onClick},"Export")),n.a.createElement("div",{className:"menubar-right"},n.a.createElement("button",{className:"menu-button",value:"undo",onClick:this.props.onClick},"Undo"),n.a.createElement("button",{className:"menu-button",value:"reset",onClick:this.props.onClick},"Reset")))}}]),a}(n.a.Component);function v(){return n.a.createElement("div",{className:"panel-contents"},n.a.createElement("h1",null,"New Puzzle"))}function b(){return n.a.createElement("div",{className:"panel-contents"},n.a.createElement("h1",null,"Help"),n.a.createElement("p",null,"Click on a square to enter a letter"),n.a.createElement("p",null,"Move around the board with the arrow keys"),n.a.createElement("p",null,'To toggle a black square, select the square and press the "." key'),n.a.createElement("p",null,'For help creating words, click the "Words" button in the menu'),n.a.createElement("p",null,'To create clues, click the "Clues" button in the menu'))}function E(){return n.a.createElement("div",{className:"panel-contents"},n.a.createElement("h1",null,"Word Suggestions"),n.a.createElement("p",null,"To view word suggestions, select a square and view the words that fit"),n.a.createElement("div",{className:"suggestion-box"},n.a.createElement("label",{for:"across"},"1a: "),n.a.createElement("select",{name:"across",id:"across"},n.a.createElement("option",{value:"Apple"},"Peak"),n.a.createElement("option",{value:"Orange"},"Pear"),n.a.createElement("option",{value:"Pear"},"Pool"))),n.a.createElement("div",{className:"suggestion-box"},n.a.createElement("label",{htmlFor:"down"},"1d: "),n.a.createElement("select",{name:"down",id:"down"},n.a.createElement("option",{value:"Apple"},"Peak"),n.a.createElement("option",{value:"Orange"},"Pear"),n.a.createElement("option",{value:"Pear"},"Pool"))))}function y(){return n.a.createElement("div",{className:"panel-contents"},n.a.createElement("h1",null,"Clues"),n.a.createElement("p",null,"To create a clue, select a word in the puzzle, and choose one of the suggested clues, or create your own!"),n.a.createElement("div",{className:"suggestion-box"},n.a.createElement("label",{for:"across"},"1a: "),n.a.createElement("input",{type:"text",id:"across",name:"across"})),n.a.createElement("div",{className:"suggestion-box"},n.a.createElement("label",{htmlFor:"down"},"1d: "),n.a.createElement("input",{type:"text",id:"down",name:"down"})))}function g(){return n.a.createElement("div",{className:"panel-contents"},n.a.createElement("h1",null,"Export"))}var k=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e,t=this.props.panelControl;return"A"===t?e=n.a.createElement(v,null):"B"===t?e=n.a.createElement(b,null):"C"===t?e=n.a.createElement(E,null):"D"===t?e=n.a.createElement(y,null):"E"===t&&(e=n.a.createElement(g,null)),n.a.createElement("div",null,e)}}]),a}(n.a.Component),w=15,C=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var r;Object(c.a)(this,a),(r=t.call(this,e)).handleKeyDown=function(e){var t=e.key,a=parseInt(e.target.attributes.id.value),n=Math.floor(a/w),s=a%w,o=r.getCurrentSquares();if(t.toUpperCase()!==t.toLowerCase()&&1===t.length)o[n][s]=t.toUpperCase(),r.addHistory(o),r.focusSquare(r.getForwardIndex(a));else if("."===t)"."===o[n][s]?o[n][s]=" ":o[n][s]=".",!r.state.symmetrical||w%2===1&&n===Math.floor(w/2)&&s===n||("."===o[w-n-1][w-s-1]?o[w-n-1][w-s-1]=" ":o[w-n-1][w-s-1]="."),r.addHistory(o);else if("Backspace"===t)if(e.preventDefault()," "===o[n][s]){var l=r.getBackwardIndex(a);o[Math.floor(l/w)][l%w]=" ",r.focusSquare(l),r.addHistory(o)}else"."!==o[n][s]||!r.state.symmetrical||w%2===1&&n===Math.floor(w/2)&&s===n?(o[n][s]=" ",r.addHistory(o)):(o[n][s]=" ","."===o[w-n-1][w-s-1]?o[w-n-1][w-s-1]=" ":o[w-n-1][w-s-1]=".",r.addHistory(o));else" "===t?" "===o[n][s]?r.focusSquare(r.getForwardIndex(a)):(o[n][s]=" ",r.focusSquare(r.getForwardIndex(a)),r.addHistory(o)):["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(t)&&r.focusSquare(a+1)},r.handleMenuClick=function(e){var t=e.target.value;"undo"===t?r.undo():"reset"===t?r.reset():r.setState({panelControl:t})};for(var s=[],o=0;o<w;o++)s.push(Array(w).fill(" "));var l=n.a.createRef();return r.state={history:[{squares:s}],stepNumber:0,isAcross:!0,symmetrical:!0,panelControl:"B",boardRef:l},r}return Object(u.a)(a,[{key:"transposeArray",value:function(e){return e[0].map((function(t,a){return e.map((function(e){return e[a]}))}))}},{key:"getCurrentSquares",value:function(){var e=this.state.history,t=e[e.length-1];return JSON.parse(JSON.stringify(t.squares.slice()))}},{key:"addHistory",value:function(e){var t=this.state.history;this.setState({history:t.concat([{squares:e}]),stepNumber:t.length})}},{key:"focusSquare",value:function(e){e<Math.pow(w,2)&&this.state.boardRef.current.state.squareRefs[e].current.focus()}},{key:"getLabelListHelper",value:function(e){for(var t=[],a=0;a<w;a++)t.push(Array(w).fill(""));for(var r=0;r<w;r++)for(var n=!0,s=0;s<w;s++){"."===e[r][s]?n=!0:n&&(t[r][s]="L",n=!1)}return t}},{key:"getLabelList",value:function(e){for(var t=this.getLabelListHelper(e),a=this.transposeArray(e),r=this.transposeArray(this.getLabelListHelper(a)),n=1,s=0;s<w;s++)for(var o=0;o<w;o++)"L"!==r[s][o]&&"L"!==t[s][o]||(t[s][o]=n.toString(),n+=1);return t}},{key:"getWordListHelper",value:function(e){var t,a=[],r=Object(l.a)(e);try{for(r.s();!(t=r.n()).done;){var n,s=t.value,o="",c=Object(l.a)(s);try{for(c.s();!(n=c.n()).done;){var u=n.value;"."!==u?o+=u:o&&(a.push(o),o="")}}catch(i){c.e(i)}finally{c.f()}o&&(a.push(o),o="")}}catch(i){r.e(i)}finally{r.f()}return a}},{key:"getWordList",value:function(e){var t=this.transposeArray(e);return this.getWordListHelper(e).concat(this.getWordListHelper(t))}},{key:"getForwardIndex",value:function(e){return this.state.isAcross&&e%w!==w-1?e+1:this.state.isAcross?e:e+w}},{key:"getBackwardIndex",value:function(e){return this.state.isAcross&&e%w!==0?e-1:this.state.isAcross?e:e-w}},{key:"undo",value:function(){var e=this.state.stepNumber,t=this.state.history.slice();e>0&&this.setState({stepNumber:e-1,history:t.slice(0,t.length-1)})}},{key:"reset",value:function(){var e=this.state.history.slice();this.setState({stepNumber:0,history:[e[0]]})}},{key:"render",value:function(){var e=this.state.history,t=e[e.length-1];return n.a.createElement("div",{className:"body"},n.a.createElement("div",{className:"menu"},n.a.createElement(f,{onClick:this.handleMenuClick})),n.a.createElement("div",{className:"game"},n.a.createElement("div",{className:"game-board"},n.a.createElement(d,{squares:t.squares,labels:this.getLabelList(t.squares),onKeyDown:this.handleKeyDown,ref:this.state.boardRef})),n.a.createElement("div",{className:"panel"},n.a.createElement(k,{panelControl:this.state.panelControl}))))}}]),a}(n.a.Component);var N=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.c54e2e2f.chunk.js.map